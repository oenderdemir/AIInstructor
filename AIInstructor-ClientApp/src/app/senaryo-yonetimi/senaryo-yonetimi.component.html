<h3>Senaryo YÃ¶netimi</h3>

<p-card *ngIf="!senaryoBasladi" header="Senaryoyu BaÅŸlat">
  <div class="p-fluid">
    <label for="ogrenciAdi">Ã–ÄŸrenci AdÄ±</label>
    <input id="ogrenciAdi" type="text" pInputText [(ngModel)]="ogrenciAdi" placeholder="AdÄ±nÄ±zÄ± giriniz" />
    <button pButton label="Senaryoyu BaÅŸlat" (click)="startScenario()" class="mt-3"></button>
  </div>
</p-card>

<!-- ðŸ—¨ï¸ MesajlaÅŸma AlanÄ± -->
<p-card *ngIf="senaryoBasladi && !evaluation">
  <div *ngFor="let mesaj of mesajlar" [ngClass]="{
        'sistem-msg': mesaj.rol === 'sistem',
        'ogrenci-msg': mesaj.rol === 'Ã¶ÄŸrenci',
        'asistan-msg': mesaj.rol === 'asistan'
      }" class="msg-bubble">
    <b>{{ mesaj.rol | titlecase }}:</b> {{ mesaj.icerik }}
  </div>

  <div class="p-fluid mt-3">
    <textarea pInputTextarea [(ngModel)]="ogrenciMesaji" rows="3" placeholder="MesajÄ±nÄ±zÄ± yazÄ±n..."></textarea>
    <button pButton label="Ä°leri" icon="pi pi-send" (click)="ileri()" class="mt-2"></button>
  </div>
</p-card>

<!-- ðŸ Evaluation SonuÃ§larÄ± -->
<p-card *ngIf="evaluation" header="Senaryo DeÄŸerlendirmesi" styleClass="evaluation-card">
  <div class="p-mb-2">
    <strong>Ä°letiÅŸim:</strong> {{ evaluation.communication }} / 10
  </div>
  <div class="p-mb-2">
    <strong>Problem Ã‡Ã¶zme:</strong> {{ evaluation.problemSolving }} / 10
  </div>
  <div class="p-mb-2">
    <strong>Dil KullanÄ±mÄ±:</strong> {{ evaluation.languageUse }} / 10
  </div>
  <div class="p-mb-2">
    <strong>Profesyonellik:</strong> {{ evaluation.professionalism }} / 10
  </div>
  <div class="p-mb-2">
    <strong>Genel Skor:</strong> {{ evaluation.overallScore }} / 10
  </div>

  <h4>GeliÅŸim AlanlarÄ±</h4>
  <pre>{{ evaluation.improvementAreas }}</pre>

  <h4>GÃ¼Ã§lÃ¼ YÃ¶nler</h4>
  <pre>{{ evaluation.strengths || 'â€”' }}</pre>


</p-card>
